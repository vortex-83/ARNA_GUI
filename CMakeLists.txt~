project(ARNA_GUI)
cmake_minimum_required(VERSION 3.23)

set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
    
# add rosbridge_lib library
add_library(rosbridge_lib STATIC src/rosbridge_lib/rosbridge_client.cpp)

#add pthreads
set(THREADS_PREFER_PTHREAD_FLAG ON)
find_package(Threads REQUIRED)

# add GTK3
find_package(PkgConfig REQUIRED)
pkg_check_modules(GTK REQUIRED gtkmm-3.0)
include_directories(${GTK_INCLUDE_DIRS})
link_directories(${GTK_LIBRARY_DIRS})

# add openCV
find_package(OpenCV)
include_directories(${OpenCV_INCLUDE_DIRS})

# Add other flags to the compiler
add_definitions(${GTK_CFLAGS_OTHER})

add_executable(ARNA_GUI src/ARNA_theora.cpp)
target_link_libraries(ARNA_GUI ${GTK_LIBRARIES})
target_link_libraries(ARNA_GUI rosbridge_lib)
target_link_libraries(ARNA_GUI Threads::Threads)
target_link_libraries(ARNA_GUI ${OpenCV_LIBRARIES})
